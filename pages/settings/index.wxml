<view class="settings-container">
  <!-- 用户信息区域 -->
  <view class="user-section" bindtap="handleUserInfoEdit" wx:if="{{isLoggedIn}}">
    <view class="avatar-container">
      <image class="avatar" src="{{userInfo.avatar || '/static/icons/default-avatar.png'}}" mode="aspectFill"></image>
    </view>
    <view class="user-info">
      <view class="username">{{userInfo.username || '未设置'}}</view>
      <view wx:if="{{isLoggedIn && userInfo.email}}" class="user-email">{{userInfo.email}}</view>
    </view>
    <view class="user-arrow">
      <text class="arrow-icon">></text>
    </view>
  </view>
  
  <!-- 未登录状态的用户信息区域 -->
  <view class="user-section" wx:else>
    <view class="avatar-container">
      <image class="avatar" src="/static/icons/default-avatar.png" mode="aspectFill"></image>
    </view>
    <view class="user-info">
      <view class="username">未登录</view>
      <view class="user-role">点击登录</view>
    </view>
    <view class="user-arrow">
      <text class="arrow-icon">></text>
    </view>
  </view>

  <!-- 功能设置区域 -->
  <view class="settings-section">
    <view class="section-title">功能设置</view>
    
    <view class="setting-group">
      <view class="setting-item" bindtap="handleClearCache">
        <view class="setting-icon">
          <text class="icon">🗑️</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">清除缓存</view>
          <view class="setting-desc">{{cacheSize || '0KB'}}</view>
        </view>
        <view class="setting-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="handleLanguageSetting">
        <view class="setting-icon">
          <text class="icon">🌐</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">语言设置</view>
          <view class="setting-desc">{{currentLanguage || '简体中文'}}</view>
        </view>
        <view class="setting-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="handleNotificationSetting">
        <view class="setting-icon">
          <text class="icon">🔔</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">通知设置</view>
        </view>
        <view class="setting-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
    </view>
  </view>

  <!-- 关于我们区域 -->
  <view class="settings-section">
    <view class="section-title">关于我们</view>
    
    <view class="setting-group">
      <view class="setting-item" bindtap="handleAboutUs">
        <view class="setting-icon">
          <text class="icon">ℹ️</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">关于应用</view>
        </view>
        <view class="setting-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="handlePrivacyPolicy">
        <view class="setting-icon">
          <text class="icon">🛡️</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">隐私政策</view>
        </view>
        <view class="setting-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="handleUserAgreement">
        <view class="setting-icon">
          <text class="icon">📝</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">用户协议</view>
        </view>
        <view class="setting-arrow">
          <text class="arrow-icon">></text>
        </view>
      </view>
      
      <view class="setting-item">
        <view class="setting-icon">
          <text class="icon">📱</text>
        </view>
        <view class="setting-content">
          <view class="setting-title">当前版本</view>
          <view class="setting-desc">{{appVersion || '1.0.0'}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- 退出登录按钮 -->
  <button class="logout-btn" bindtap="handleLogout" wx:if="{{isLoggedIn}}">退出登录</button>

  <!-- 登录按钮 -->
  <button class="login-btn" bindtap="handleLogin" wx:else>登录/注册</button>
</view>