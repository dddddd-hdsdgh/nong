<view class="forum-container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="forum-header">
    <text class="forum-title">å†œä¸šè®ºå›</text>
    <view class="header-actions">
      <view class="search-icon">
        <text class="iconfont">ğŸ”</text>
      </view>
      <view class="post-btn-top" bindtap="createPost">
        <text class="iconfont">âœï¸</text>
      </view>
      <view class="more-icon">
        <text class="iconfont">â€¢â€¢â€¢</text>
      </view>
    </view>
  </view>
  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="forum-tabs">
    <scroll-view class="tabs-scroll" scroll-x enable-flex show-scrollbar="false">
      <view class="tabs-container">
        <view class="tab-item {{currentTab === 'recommend' ? 'active' : ''}}" bindtap="switchTab" data-tab="recommend">
          <text class="tab-icon">â­</text>
          <text>æ¨è</text>
        </view>
        <view class="tab-item {{currentTab === 'latest' ? 'active' : ''}}" bindtap="switchTab" data-tab="latest">
          <text class="tab-icon">ğŸ”¥</text>
          <text>æœ€æ–°</text>
        </view>
        <view class="tab-item {{currentTab === 'hot' ? 'active' : ''}}" bindtap="switchTab" data-tab="hot">
          <text class="tab-icon">ğŸ“ˆ</text>
          <text>çƒ­é—¨</text>
        </view>
        <view class="tab-item" bindtap="switchTab" data-tab="question">
          <text class="tab-icon">â“</text>
          <text>é—®ç­”</text>
        </view>
        <view class="tab-item" bindtap="switchTab" data-tab="experience">
          <text class="tab-icon">ğŸ’¡</text>
          <text>ç»éªŒ</text>
        </view>
      </view>
    </scroll-view>
  </view>
  
  <!-- å¸–å­åˆ—è¡¨ -->
  <scroll-view class="forum-list" scroll-y="true" enable-back-to-top="true" enhanced show-scrollbar="false">
    <block wx:for="{{forumList}}" wx:key="id">
      <view class="post-card" bindtap="goToDetail" data-id="{{item.id}}">
        <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
        <view class="post-header">
          <image class="avatar" src="{{item.avatar || '/static/icons/default-avatar.png'}}"></image>
          <view class="user-info">
            <text class="username">{{item.username}}</text>
            <text class="post-time">{{item.time}}</text>
          </view>
          <view class="post-meta" wx:if="{{item.isHot}}">
            <text class="top-badge">ç½®é¡¶</text>
          </view>
        </view>
        
        <!-- å†…å®¹åŒºåŸŸ -->
        <view class="post-content">
          <text class="post-text">{{item.content}}</text>
          
          <!-- å›¾ç‰‡å±•ç¤º -->
          <view class="post-images" wx:if="{{item.images && item.images.length > 0}}">
            <image class="post-img" src="{{img}}" wx:for="{{item.images}}" wx:for-item="img" wx:key="index" wx:if="{{index < 3}}"></image>
          </view>
        </view>
        
        <!-- åº•éƒ¨æ ‡ç­¾å’Œç»Ÿè®¡ -->
        <view class="post-footer">
          <view class="post-tags">
            <text class="post-tag" wx:if="{{item.category}}">#{{item.category}}</text>
          </view>
          <view class="post-stats">
            <text class="stat-item">â¤ï¸ {{item.likes}}</text>
            <text class="stat-item">ğŸ’¬ {{item.comments}}</text>
          </view>
        </view>
      </view>
    </block>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{forumList.length === 0}}">
      <text class="empty-icon">ğŸŒ¾</text>
      <text class="empty-text">æš‚æ— ç›¸å…³å¸–å­</text>
      <text class="empty-subtitle">æˆä¸ºç¬¬ä¸€ä¸ªåˆ†äº«å†œä¸šç»éªŒçš„äººå§ï¼</text>
    </view>
    
    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more" bindtap="loadMore" wx:if="{{hasMore}}">
      <view class="loading-spinner"></view>
      <text>åŠ è½½æ›´å¤šç²¾å½©å†…å®¹...</text>
    </view>
  </scroll-view>
</view>